
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Introduction Â· Redoodle</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="build/gitbook.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="docs/actions/" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter active" data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="docs/actions/">
            
                <a href="docs/actions/">
            
                    
                    Typed Actions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="docs/actions/UsingDefinitions.html">
            
                <a href="docs/actions/UsingDefinitions.html">
            
                    
                    Creating Actions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="docs/actions/UsingTypedReducer.html">
            
                <a href="docs/actions/UsingTypedReducer.html">
            
                    
                    Reducing Actions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="docs/compound/">
            
                <a href="docs/compound/">
            
                    
                    Compound Actions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="docs/compound/">
            
                <a href="docs/compound/">
            
                    
                    Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="docs/compound/Benefits.html">
            
                <a href="docs/compound/Benefits.html">
            
                    
                    Benefits
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="docs/compound/ConfiguringStore.html">
            
                <a href="docs/compound/ConfiguringStore.html">
            
                    
                    Configuring the Store
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="docs/InitialState.html">
            
                <a href="docs/InitialState.html">
            
                    
                    Initial State Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="docs/utilities/">
            
                <a href="docs/utilities/">
            
                    
                    Utilities
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="docs/utilities/combineReducers.html">
            
                <a href="docs/utilities/combineReducers.html">
            
                    
                    combineReducers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="docs/utilities/composeReducers.html">
            
                <a href="docs/utilities/composeReducers.html">
            
                    
                    composeReducers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="docs/utilities/compoundActionsEnhancer.html">
            
                <a href="docs/utilities/compoundActionsEnhancer.html">
            
                    
                    compoundActionsEnhancer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="docs/utilities/createStore.html">
            
                <a href="docs/utilities/createStore.html">
            
                    
                    createStore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="docs/utilities/isType.html">
            
                <a href="docs/utilities/isType.html">
            
                    
                    isType
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="docs/utilities/loggingMiddleware.html">
            
                <a href="docs/utilities/loggingMiddleware.html">
            
                    
                    loggingMiddleware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="docs/utilities/omit.html">
            
                <a href="docs/utilities/omit.html">
            
                    
                    omit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="docs/utilities/reduceCompoundActions.html">
            
                <a href="docs/utilities/reduceCompoundActions.html">
            
                    
                    reduceCompoundActions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="docs/utilities/setWith.html">
            
                <a href="docs/utilities/setWith.html">
            
                    
                    setWith
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="docs/FAQ.html">
            
                <a href="docs/FAQ.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="CHANGELOG.html">
            
                <a href="CHANGELOG.html">
            
                    
                    Change Log
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Introduction</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="redoodle">Redoodle</h1>
<p>Redoodle is an addon library for Redux that enhances its integration with TypeScript.</p>
<p>Redoodle includes a few major categories of addons that can be used individually
and play well with each other:</p>
<ul>
<li><a href="#typed-actions">Typed Actions</a>, or &quot;finally my reducers will stop breaking when I refactor&quot;</li>
<li><a href="#compound-actions">Compound Actions</a>, or &quot;my action creators are finally sane&quot;</li>
<li>Immutable typesafe state manipulation <a href="#utilities">functions</a></li>
<li>Some <a href="#on-initial-state-management">opinions on state management</a></li>
</ul>
<p><a href="https://circleci.com/gh/palantir/redoodle" target="_blank"><img src="https://img.shields.io/circleci/project/github/palantir/redoodle/master.svg?style=flat-square" alt="Circle CI"></a>
<a href="https://www.npmjs.com/package/redoodle" target="_blank"><img src="https://img.shields.io/npm/v/redoodle.svg?style=flat-square" alt="npm"></a></p>
<h2 id="motivation">Motivation</h2>
<p>Redux brought sanity to state management,
and has found itself a seat in many a React application&apos;s architecture.
TypeScript is also gaining a large amount of traction,
and has impressed the community with its month-over-month high quality releases.
Unfortunately, there were a few places where default Redux and TypeScript
failed to play well with each other:</p>
<ol>
<li>Redux Actions have magic string types and opaque payloads,
with no obvious mechanism to track the correlation between the two.</li>
<li>Redux Reducers have no easy way to infer correct typings for different Action branches.</li>
<li>The TypeScript/JavaScript STL lacks good immutable state update functions.
While this has gotten better with Object and Array spread and their reasonable typings,
there is still a dearth of exact behavior for certain common Redux update workflows.</li>
</ol>
<p>Redoodle attempts to solve these integration pains,
and takes a stab at a few more common points of developer frustration when working
with Redux and Typescript.</p>
<h2 id="features">Features</h2>
<h3 id="typed-actions">Typed Actions</h3>
<p>Typed Actions do the most legwork to bridge the Redux-TypeScript divide, by correlating
Action magic type strings with Action magic payloads.
With Redoodle, you can create an Action Definition, and then use that Definition
in all places you were previously guessing, casting, or crying.</p>
<pre class="language-"><code class="lang-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineAction<span class="token punctuation">,</span> TypedReducer<span class="token punctuation">,</span> setWith <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;redoodle&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// FlipTable is an action Definition for actions of type &quot;FlipTable&quot;,</span>
<span class="token comment">// and associates the given payload type with the action.</span>
<span class="token keyword">const</span> FlipTable <span class="token operator">=</span> <span class="token function">defineAction</span><span class="token punctuation">(</span><span class="token string">&quot;FlipTable&quot;</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token punctuation">{</span>
  tableId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  face<span class="token operator">:</span> <span class="token string">&quot;happy&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;angry&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// We can use a Definition to create a matching Action. This is all type-safe.</span>
<span class="token comment">// At runtime, the `action` below has the value</span>
<span class="token comment">//</span>
<span class="token comment">//    {</span>
<span class="token comment">//      type: &quot;FlipTable&quot;,</span>
<span class="token comment">//      payload: {</span>
<span class="token comment">//        tableId: &quot;2567f216-59b7-4bfe-b46f-909c6711fea4&quot;,</span>
<span class="token comment">//        face: &quot;happy&quot;</span>
<span class="token comment">//      }</span>
<span class="token comment">//    }</span>
<span class="token comment">//</span>
<span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">FlipTable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  tableId<span class="token operator">:</span> <span class="token string">&quot;2567f216-59b7-4bfe-b46f-909c6711fea4&quot;</span><span class="token punctuation">,</span>
  face<span class="token operator">:</span> <span class="token string">&quot;happy&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// We can also use Definitions to create Reducers that offer slick type inferencing.</span>
<span class="token comment">// No more manual casts!</span>
<span class="token keyword">interface</span> <span class="token class-name">BanquetHall</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>tableId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    isFlipped<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// banquetHallReducer is a standard Redux Reducer&lt;BanquetHall&gt;. Nothing fancy.</span>
<span class="token keyword">const</span> banquetHallReducer <span class="token operator">=</span> TypedReducer<span class="token punctuation">.</span>builder<span class="token operator">&lt;</span>BanquetHall<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// FlipTable.TYPE is the plain string &quot;FlipTable&quot;, but it&apos;s branded with</span>
  <span class="token comment">// rich compile-time information about its associated payload type `{tableId, face}`.</span>
  <span class="token punctuation">.</span><span class="token function">withHandler</span><span class="token punctuation">(</span>FlipTable<span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> <span class="token punctuation">{</span> tableId<span class="token punctuation">,</span> face <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// All of the operations here are 100% type-safe. If I misspelled `isFlipped` below</span>
    <span class="token comment">// in either place, or fail to copy the correct subset of state when applying my</span>
    <span class="token comment">// immutable copies, the compiler will save me!</span>
    <span class="token keyword">return</span> <span class="token function">setWith</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token punctuation">[</span>tableId<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token function">setWith</span><span class="token punctuation">(</span>state<span class="token punctuation">[</span>tableId<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        isFlipped<span class="token operator">:</span> <span class="token operator">!</span>state<span class="token punctuation">[</span>tableId<span class="token punctuation">]</span><span class="token punctuation">.</span>isFlipped
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>For more on Typed Actions, probably the most simple and significant utility
Redoodle offers, check out the Redoodle
<a href="https://palantir.github.io/redoodle/docs/actions/" target="_blank">docs</a>.</p>
<h3 id="compound-actions">Compound Actions</h3>
<p>The only builtin Action Definition that Redoodle ships with is the CompoundAction,
which is a simple higher-level Action that wraps another set of Actions.
Its alternatives in stock Redux is either to</p>
<ol>
<li>Create more complex DoFooAndBar actions, which have the drawback of making every Reducer that cares about
DoFoo <em>or</em> DoBar also care about DoFooAndBar.</li>
<li>Dispatch DoFoo and DoBar individually, which has the drawback of causing multiple Store subscription events,
which often results in e.g. multiple React renders. It also has the drawback of publishing a possibly inconsistent
intermediate state when DoFoo was applied but not DoBar.</li>
</ol>
<pre class="language-"><code class="lang-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span> CompoundAction <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;redoodle&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> doFoo<span class="token operator">:</span> Action <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> doBar<span class="token operator">:</span> Action <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">CompoundAction</span><span class="token punctuation">(</span><span class="token punctuation">[</span>doFoo<span class="token punctuation">,</span> doBar<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>To use CompoundActions, your store must be configured to correctly unwrap and reduce them; thankfully Redoodle
comes with a <code>compoundActionsEnhancer()</code> (or the simpler <code>reduceCompoundActions</code> decorator) for exactly that.</p>
<p>For more on CompoundActions, check out the Redoodle
<a href="https://palantir.github.io/redoodle/docs/compound/" target="_blank">docs</a>.</p>
<h3 id="utilities">Utilities</h3>
<p>Redoodle packages a number of utility functions,
some explicitly for clean TypeScript immutable state manipulation,
some for completeness in developer experience.</p>
<ul>
<li><a href="https://palantir.github.io/redoodle/docs/utilities/combineReducers.html" target="_blank">combineReducers(reducers)</a></li>
<li><a href="https://palantir.github.io/redoodle/docs/utilities/composeReducers.html" target="_blank">composeReducers(...reducers)</a></li>
<li><a href="https://palantir.github.io/redoodle/docs/utilities/compoundActionsEnhancer.html" target="_blank">compoundActionsEnhancer()</a></li>
<li><a href="https://palantir.github.io/redoodle/docs/utilities/createStore.html" target="_blank">createStore()</a></li>
<li><a href="https://palantir.github.io/redoodle/docs/utilities/loggingMiddleware.html" target="_blank">loggingMiddleware([options])</a></li>
<li><a href="https://palantir.github.io/redoodle/docs/utilities/omit.html" target="_blank">omit(state, keys)</a></li>
<li><a href="https://palantir.github.io/redoodle/docs/utilities/reduceCompoundActions.html" target="_blank">reduceCompoundActions(reducer)</a></li>
<li><a href="https://palantir.github.io/redoodle/docs/utilities/setWith.html" target="_blank">setWith(state, ...overrides)</a></li>
</ul>
<h3 id="on-initial-state-management">On Initial State Management</h3>
<p>Redoodle firmly believes that specific benefits the TypeScript compiler provides
should change the way we think about Redux State initialization.
This shifts the behavior of some Redoodle utilities slightly to be more ergonomic for developers,
and is discussed in greater detail <a href="https://palantir.github.io/redoodle/docs/InitialState.html" target="_blank">here</a>.</p>
<h2 id="documentation">Documentation</h2>
<ul>
<li><a href="https://palantir.github.io/redoodle/" target="_blank">Introduction</a></li>
<li><a href="https://palantir.github.io/redoodle/docs/actions/" target="_blank">defineAction</a></li>
<li><a href="https://palantir.github.io/redoodle/docs/compound/" target="_blank">Compound Actions</a></li>
<li><a href="https://palantir.github.io/redoodle/docs/InitialState.html" target="_blank">Initial State Management</a></li>
<li><a href="https://palantir.github.io/redoodle/docs/utilities/" target="_blank">Utilities</a></li>
<li><a href="https://palantir.github.io/redoodle/docs/FAQ.html" target="_blank">FAQ</a></li>
</ul>
<h2 id="license">License</h2>
<p>Apache 2.0</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="docs/actions/" class="navigation navigation-next navigation-unique" aria-label="Next page: Typed Actions">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Introduction","level":"1.1","depth":1,"next":{"title":"Typed Actions","level":"1.2","depth":1,"path":"docs/actions/README.md","ref":"docs/actions/README.md","articles":[{"title":"Creating Actions","level":"1.2.1","depth":2,"path":"docs/actions/UsingDefinitions.md","ref":"docs/actions/UsingDefinitions.md","articles":[]},{"title":"Reducing Actions","level":"1.2.2","depth":2,"path":"docs/actions/UsingTypedReducer.md","ref":"docs/actions/UsingTypedReducer.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["edit-link","prism","-highlight","github"],"styles":{"website":"build/gitbook.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"edit-link":{"label":"Edit This Page","base":"https://github.com/palantir/redoodle/tree/master"},"github":{"url":"https://github.com/palantir/redoodle/"},"prism":{"lang":{"ts":"typescript"}},"theme-default":{"styles":{"website":"build/gitbook.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Redoodle","gitbook":"3.2.2"},"file":{"path":"README.md","mtime":"2020-05-09T23:05:11.174Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2020-05-10T00:00:52.054Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

